const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cs7wKAId.js","assets/ui-CMXPLWPe.js","assets/vendor-Bn94jRP8.js","assets/useCycleSettings-DWfpFlSS.js","assets/index-BEXy74El.js","assets/Icons-jkWiUZ6y.js","assets/useSequenceSettings-DPi8VQfn.js","assets/LDJson-CbQ8G8qI.js","assets/useEditMode-Ba77VuAd.js"])))=>i.map(i=>d[i]);
import{_ as T}from"./index-BEXy74El.js";import{j as t,e as h,g as _,h as P,a,S as F}from"./ui-CMXPLWPe.js";import{u as A,L as k,H as v}from"./LDJson-CbQ8G8qI.js";import{r as n}from"./vendor-Bn94jRP8.js";import{u as N,M as D,P as I,C as M}from"./useSequenceSettings-DPi8VQfn.js";import{l as o}from"./learnPatterns-Dh5AiSCC.js";import{u as R}from"./useCycleSettings-DWfpFlSS.js";import"./Icons-jkWiUZ6y.js";const L=n.lazy(()=>T(()=>import("./index-Cs7wKAId.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(i=>({default:i.MetronomePlayer})));function U(){const{cycleSettings:i,dispatch:m}=R(),{dispatch:s}=A(),{dispatch:c}=N(),[l,f]=n.useState(0),[x,y]=n.useState(5),[u,g]=n.useState(!1),[C,j]=n.useState(),E={"@context":"https://schema.org","@type":"WebApplication",name:"Тренажер гитарного боя",operatingSystem:"Все платформы",applicationCategory:"Музыкальный тренажер",url:"https://strumming.ru/learn",description:"Практикуйтесь в игре на гитаре с помощью онлайн тренажера гитарного боя на Strumming.ru.",potentialAction:{"@type":"ExerciseAction",target:"https://strumming.ru/learn",name:"Начать тренировку"}},p=n.useCallback(e=>{const r=o[e];r&&(j(r.title),c({type:"SET_BEAT_PATTERN",payload:r.pattern}),s({type:"SET_NOTE_DURATION",payload:r.note}),s({type:"SET_TEMPO",payload:r.temp}))},[c,s]),S=n.useCallback(()=>{const e=(l-1+o.length)%o.length;f(e),p(e)},[l,p]),d=n.useCallback(()=>{const e=(l+1)%o.length;f(e),p(e)},[l,p]);return n.useEffect(()=>{const e=o[0];e&&(j(e.title),c({type:"SET_BEAT_PATTERN",payload:e.pattern}),s({type:"SET_NOTE_DURATION",payload:e.note}),s({type:"SET_TEMPO",payload:e.temp}))},[c,s]),n.useEffect(()=>{u&&i.cycleCount>=x&&(m({type:"RESET_CYCLE"}),d())},[x,u,d,i.cycleCount,m]),t.jsxs(t.Fragment,{children:[t.jsx(k,{data:E}),t.jsx(v,{}),t.jsx(h,{variant:"h5",component:"h3",align:"center",flexGrow:"1",children:C}),t.jsxs(_,{component:"main",sx:{display:"flex",minHeight:"80dvh",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[t.jsx(n.Suspense,{fallback:t.jsx("div",{children:"Загрузка..."}),children:t.jsx(L,{})}),t.jsxs(P,{sx:{display:"flex",direction:"row",justifyContent:"center"},children:[t.jsx(a,{variant:"h6",onClick:S,children:"Предыдущий урок"}),u?t.jsxs(t.Fragment,{children:[t.jsx(a,{variant:"h6",onClick:()=>g(!1),children:"Выключить"}),t.jsx(a,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>y(e=>Math.max(1,e-1)),children:t.jsx(D,{})}),t.jsxs(F,{justifyContent:"center",children:[t.jsx(h,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(h,{fontSize:"11px",alignSelf:"center",textAlign:"center",s:!0,children:"повторений"})]}),t.jsx(a,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>y(e=>Math.min(100,e+1)),children:t.jsx(I,{})})]}):t.jsx(a,{variant:"h6",onClick:()=>g(!0),children:"Авто переключение"}),t.jsx(a,{variant:"h6",onClick:d,children:"Следующий урок"})]}),t.jsx(M,{})]})]})}export{U as default};
