const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DWhojiE0.js","assets/ui-CMXPLWPe.js","assets/vendor-Bn94jRP8.js","assets/useCycleSettings-F2oS2ZKb.js","assets/index-BhqZGO9n.js","assets/Icons-D3MG0PGA.js","assets/useSequenceSettings-BcsMO7kP.js","assets/LDJson-pkIf3y_R.js","assets/useEditMode-BvtyueQm.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./index-BhqZGO9n.js";import{j as e,g as y,i as h,I as u,k as f}from"./ui-CMXPLWPe.js";import{r as c}from"./vendor-Bn94jRP8.js";import{c as g,u as E,L as j,H as S}from"./LDJson-pkIf3y_R.js";import{u as T,P as _,M as C,C as P}from"./useSequenceSettings-BcsMO7kP.js";import{l as k}from"./learnPatterns-Dd22WPXI.js";import{u as b}from"./useEditMode-BvtyueQm.js";import"./Icons-D3MG0PGA.js";/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=g("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),w=()=>{const{sequenceSettings:s,dispatch:l}=T(),{beatPattern:i}=s,[p,o]=c.useState(!1),n=t=>{l({type:"SET_BEAT_PATTERN",payload:t})},d=`${window.location.origin}/pattern/${i}`,r=t=>{let a=i.split("");t==="plus"?a=a.concat("0"):t==="minus"&&(a=a.slice(0,-1)),n(a.join(""))},x=async t=>{try{await navigator.clipboard.writeText(t)}catch(a){console.error("Failed to copy URL to clipboard",a)}};return{handleChange:t=>{t==="plus"||t==="minus"?r(t):t==="share"&&(x(d),o(!0))},handleClose:(t,a)=>{a!=="clickaway"&&o(!1)},open:p,updateBeatPattern:n}},A=c.lazy(()=>m(()=>import("./index-DWhojiE0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(s=>({default:s.MetronomePlayer})));function N(){const{handleChange:s,handleClose:l,open:i,updateBeatPattern:p}=w(),{dispatch:o}=E(),{dispatch:n}=b(),d={"@context":"https://schema.org","@type":"WebApplication",name:"Редактор гитарного боя",operatingSystem:"Все платформы",applicationCategory:"Музыкальный инструмент",url:"https://strumming.ru/create",description:"Создайте свой собственный гитарный бой с помощью редактора на Strumming.ru."};return c.useEffect(()=>{n({type:"SET_EDIT_MODE",payload:!0});const r=k[0];return r&&(p(r.pattern),o({type:"SET_NOTE_DURATION",payload:r.note}),o({type:"SET_TEMPO",payload:r.temp})),()=>{n({type:"SET_EDIT_MODE",payload:!1})}},[]),e.jsxs(e.Fragment,{children:[e.jsx(j,{data:d}),e.jsx(S,{title:"Редактор боя"}),e.jsxs(y,{component:"main",sx:{display:"flex",minHeight:"80dvh",flexDirection:"row",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Загрузка..."}),children:e.jsx(A,{})}),e.jsxs(h,{children:[e.jsx(u,{onClick:()=>s("plus"),sx:{borderRadius:"8px",border:"2px solid #4A434B",mt:1},children:e.jsx(_,{})}),e.jsx(u,{onClick:()=>s("minus"),sx:{borderRadius:"8px",border:"2px solid #4A434B",mt:1},children:e.jsx(C,{})}),e.jsx(u,{onClick:()=>s("share"),sx:{borderRadius:"8px",border:"2px solid #4A434B",mt:1},children:e.jsx(D,{})})]}),e.jsx(P,{})]}),e.jsx(f,{open:i,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:2e3,onClose:l,message:"Ссылка на гитарный бой скопирована!"})]})}export{N as default};
