const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DObAyrJ7.js","assets/ui-BS00pWUR.js","assets/vendor-CM9vOon3.js","assets/useCycleSettings-CLT1Mghf.js","assets/index-s8lp9hOB.js","index.css","assets/LDJson-BddacWSc.js","assets/Icons-CjB20U9u.js","assets/useSequenceSettings-DjNILg62.js","assets/useEditMode-CNDmz56i.js"])))=>i.map(i=>d[i]);
import{T as k,_ as I}from"./index-s8lp9hOB.js";import{r as n,j as t,g as m,i as R,k as N,d as T,I as p,S as b}from"./ui-BS00pWUR.js";import{u as D,L as v,H as B}from"./LDJson-BddacWSc.js";import{u as L,C as O,I as z,a as M}from"./useSequenceSettings-DjNILg62.js";import{l as o}from"./learnPatterns-Dd22WPXI.js";import{u as w}from"./useCycleSettings-CLT1Mghf.js";import{w as W,F}from"./SkipForward-CXytoRNg.js";import"./vendor-CM9vOon3.js";const q=n.lazy(()=>I(()=>import("./index-DObAyrJ7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(r=>({default:r.MetronomePlayer})));function Q(){const{cycleSettings:r,dispatch:h}=w(),{dispatch:s}=D(),{dispatch:i}=L(),[c,f]=n.useState(0),[x,y]=n.useState(5),[u,g]=n.useState(!1),[S,j]=n.useState(),C={"@context":"https://schema.org","@type":"WebApplication",name:"Тренажер гитарного боя",operatingSystem:"Все платформы",applicationCategory:"Музыкальный тренажер",url:"https://strumming.ru/learn",description:"Практикуйтесь в игре на гитаре с помощью онлайн тренажера гитарного боя на Strumming.ru.",potentialAction:{"@type":"ExerciseAction",target:"https://strumming.ru/learn",name:"Начать тренировку"}},l=n.useCallback(e=>{const a=o[e];a&&(j(a.title),i({type:"SET_BEAT_PATTERN",payload:a.pattern}),s({type:"SET_NOTE_DURATION",payload:a.note}),s({type:"SET_TEMPO",payload:a.temp}))},[i,s]),E=n.useCallback(()=>{const e=(c-1+o.length)%o.length;f(e),l(e)},[c,l]),d=n.useCallback(()=>{const e=(c+1)%o.length;f(e),l(e)},[c,l]);n.useEffect(()=>{const e=o[0];e&&(j(e.title),i({type:"SET_BEAT_PATTERN",payload:e.pattern}),s({type:"SET_NOTE_DURATION",payload:e.note}),s({type:"SET_TEMPO",payload:e.temp}))},[i,s]),n.useEffect(()=>{u&&r.cycleCount>=x&&(h({type:"RESET_CYCLE"}),d())},[x,u,d,r.cycleCount,h]);const _=t.jsx(p,{sx:{borderRadius:"50%"},onClick:E,children:t.jsx(W,{size:16})}),P=t.jsx(p,{sx:{borderRadius:"50%"},onClick:d,children:t.jsx(F,{size:16})}),A=t.jsx(N,{sx:{display:"flex",direction:"row",justifyContent:"center",width:"100%",flexWrap:"wrap",gap:1,mt:1},children:u?t.jsxs(t.Fragment,{children:[t.jsx(T,{variant:"h6",onClick:()=>g(!1),children:"Выключить"}),t.jsx(p,{sx:{borderRadius:"50%"},onClick:()=>y(e=>Math.max(1,e-1)),children:t.jsx(z,{size:16})}),t.jsxs(b,{justifyContent:"center",children:[t.jsx(m,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(m,{fontSize:"11px",alignSelf:"center",textAlign:"center",children:"повторений"})]}),t.jsx(p,{sx:{borderRadius:"50%"},onClick:()=>y(e=>Math.min(100,e+1)),children:t.jsx(M,{size:16})})]}):t.jsx(T,{variant:"h6",onClick:()=>g(!0),children:"Авто переключение"})});return t.jsxs(t.Fragment,{children:[t.jsx(v,{data:C}),t.jsx(B,{}),t.jsx(m,{variant:"h5",component:"h3",align:"center",children:S}),t.jsxs(R,{component:"main",sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[t.jsx(n.Suspense,{fallback:t.jsx(k,{}),children:t.jsx(q,{})}),t.jsx(O,{nextButton:P,prevButton:_,settingsSlot:A})]})]})}export{Q as default};
