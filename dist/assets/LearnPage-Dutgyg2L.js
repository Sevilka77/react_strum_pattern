const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B7t6GCLM.js","assets/ui-DtFdnKGP.js","assets/vendor-CM9vOon3.js","assets/useCycleSettings-BczZlp5C.js","assets/index-BXHAWDh2.js","index.css","assets/LDJson-D4B3ShDz.js","assets/Icons-2xFd7VTX.js","assets/useSequenceSettings-DAyhsZmy.js","assets/useEditMode-CvhTKY_o.js"])))=>i.map(i=>d[i]);
import{_ as A}from"./index-BXHAWDh2.js";import{r as n,j as t,g as m,i as k,k as I,d as p,S as N,I as S}from"./ui-DtFdnKGP.js";import{u as R,L as v,H as D}from"./LDJson-D4B3ShDz.js";import{u as b,C as w,I as B,a as L}from"./useSequenceSettings-DAyhsZmy.js";import{l as o}from"./learnPatterns-Dd22WPXI.js";import{u as O}from"./useCycleSettings-BczZlp5C.js";import{w as W,F as M}from"./SkipForward-D0Bi3hSi.js";import"./vendor-CM9vOon3.js";const z=n.lazy(()=>A(()=>import("./index-B7t6GCLM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(r=>({default:r.MetronomePlayer})));function K(){const{cycleSettings:r,dispatch:h}=O(),{dispatch:s}=R(),{dispatch:i}=b(),[c,f]=n.useState(0),[x,y]=n.useState(5),[d,g]=n.useState(!1),[C,j]=n.useState(),E={"@context":"https://schema.org","@type":"WebApplication",name:"Тренажер гитарного боя",operatingSystem:"Все платформы",applicationCategory:"Музыкальный тренажер",url:"https://strumming.ru/learn",description:"Практикуйтесь в игре на гитаре с помощью онлайн тренажера гитарного боя на Strumming.ru.",potentialAction:{"@type":"ExerciseAction",target:"https://strumming.ru/learn",name:"Начать тренировку"}},l=n.useCallback(e=>{const a=o[e];a&&(j(a.title),i({type:"SET_BEAT_PATTERN",payload:a.pattern}),s({type:"SET_NOTE_DURATION",payload:a.note}),s({type:"SET_TEMPO",payload:a.temp}))},[i,s]),T=n.useCallback(()=>{const e=(c-1+o.length)%o.length;f(e),l(e)},[c,l]),u=n.useCallback(()=>{const e=(c+1)%o.length;f(e),l(e)},[c,l]);n.useEffect(()=>{const e=o[0];e&&(j(e.title),i({type:"SET_BEAT_PATTERN",payload:e.pattern}),s({type:"SET_NOTE_DURATION",payload:e.note}),s({type:"SET_TEMPO",payload:e.temp}))},[i,s]),n.useEffect(()=>{d&&r.cycleCount>=x&&(h({type:"RESET_CYCLE"}),u())},[x,d,u,r.cycleCount,h]);const _=t.jsx(S,{sx:{borderRadius:"50%"},onClick:T,children:t.jsx(W,{size:32})}),F=t.jsx(S,{sx:{borderRadius:"50%"},onClick:u,children:t.jsx(M,{size:32})}),P=t.jsx(I,{sx:{display:"flex",direction:"row",justifyContent:"center",width:"100%",flexWrap:"wrap",gap:1,mt:1},children:d?t.jsxs(t.Fragment,{children:[t.jsx(p,{variant:"h6",onClick:()=>g(!1),children:"Выключить"}),t.jsx(p,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>y(e=>Math.max(1,e-1)),children:t.jsx(B,{})}),t.jsxs(N,{justifyContent:"center",children:[t.jsx(m,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(m,{fontSize:"11px",alignSelf:"center",textAlign:"center",children:"повторений"})]}),t.jsx(p,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>y(e=>Math.min(100,e+1)),children:t.jsx(L,{})})]}):t.jsx(p,{variant:"h6",onClick:()=>g(!0),children:"Авто переключение"})});return t.jsxs(t.Fragment,{children:[t.jsx(v,{data:E}),t.jsx(D,{}),t.jsx(m,{variant:"h5",component:"h3",align:"center",children:C}),t.jsxs(k,{component:"main",sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[t.jsx(n.Suspense,{fallback:t.jsx("div",{children:"Загрузка..."}),children:t.jsx(z,{})}),t.jsx(w,{nextButton:F,prevButton:_,settingsSlot:P})]})]})}export{K as default};
