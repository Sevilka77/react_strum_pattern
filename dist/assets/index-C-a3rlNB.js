const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DT6zHhfm.js","assets/ui-CMvDxjNB.js","assets/vendor-CM9vOon3.js","assets/useCycleSettings-CmNdq-a3.js","assets/CycleSettingsContext-DfRQjNDL.js","assets/index-DIedBFEn.js","assets/SoundSettingsContext-Bm8RvGBw.js","assets/index-UFG-YB8b.js","index.css","assets/Icons-COlZxRnr.js","assets/useSequenceSettings-BTBiy5vO.js","assets/ChordSettingsContext-S8S1EYqQ.js","assets/useEditMode-BO9UjOMb.js","assets/EditModeContext-B99zUBYh.js","assets/PatternList-DdhVVP6y.js","assets/BeatImage-Dto4UDPt.js"])))=>i.map(i=>d[i]);
import{T as D,_ as E}from"./index-UFG-YB8b.js";import{r as n,j as t,i as L,g as f,k as z,d as T,I as m,S as B,F as M,n as w}from"./ui-CMvDxjNB.js";import{u as F,H as O}from"./index-DIedBFEn.js";import{u as W,C as H,I as q,a as U}from"./useSequenceSettings-BTBiy5vO.js";import{u as V}from"./useCycleSettings-CmNdq-a3.js";import{w as G,F as J}from"./SkipForward-Bjmrcf6g.js";import{M as K}from"./MetaData-CW0KrRG8.js";import"./vendor-CM9vOon3.js";import"./SoundSettingsContext-Bm8RvGBw.js";import"./ChordSettingsContext-S8S1EYqQ.js";import"./CycleSettingsContext-DfRQjNDL.js";const r=[{title:"A",pattern:"1000",temp:80,note:"4n",level:"rhythm",id:0},{title:"B",pattern:"0100",temp:80,note:"4n",level:"rhythm",id:1},{title:"C",pattern:"0010",temp:80,note:"4n",level:"rhythm",id:2},{title:"D",pattern:"0001",temp:80,note:"4n",level:"rhythm",id:3},{title:"E",pattern:"1100",temp:80,note:"4n",level:"rhythm",id:4},{title:"F",pattern:"0110",temp:80,note:"4n",level:"rhythm",id:5},{title:"G",pattern:"0011",temp:80,note:"4n",level:"rhythm",id:6},{title:"H",pattern:"1001",temp:80,note:"4n",level:"rhythm",id:7},{title:"I",pattern:"1010",temp:80,note:"4n",level:"rhythm",id:8},{title:"J",pattern:"0101",temp:80,note:"4n",level:"rhythm",id:9},{title:"K",pattern:"1110",temp:80,note:"4n",level:"rhythm",id:10},{title:"L",pattern:"0111",temp:80,note:"4n",level:"rhythm",id:11},{title:"M",pattern:"1011",temp:80,note:"4n",level:"rhythm",id:12},{title:"N",pattern:"1101",temp:80,note:"4n",level:"rhythm",id:13},{title:"O",pattern:"1111",temp:80,note:"4n",level:"rhythm",id:14},{title:"P",pattern:"0000",temp:80,note:"4n",level:"rhythm",id:15}],Y=n.lazy(()=>E(()=>import("./index-DT6zHhfm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(a=>({default:a.MetronomePlayer}))),$=n.lazy(()=>E(()=>import("./PatternList-DdhVVP6y.js"),__vite__mapDeps([14,1,2,15,9])));function lt(){const{cycleSettings:a,dispatch:j}=V(),{dispatch:i}=F(),{dispatch:l}=W(),[o,d]=n.useState(0),[x,C]=n.useState(5),[c,g]=n.useState(!1),[u,_]=n.useState(!1),[P,v]=n.useState(),[p,R]=n.useState(!1),s=n.useCallback(e=>{const h=r[e];h&&(v(h.title),l({type:"SET_BEAT_PATTERN",payload:h.pattern}),i({type:"SET_NOTE_DURATION",payload:h.note}))},[l,i]),k=e=>{R(!0),s(e)},I=n.useCallback(()=>{const e=(o-1+r.length)%r.length;d(e),s(e)},[o,s]),y=n.useCallback(()=>{const e=(o+1)%r.length;d(e),s(e)},[o,s]),S=n.useCallback(()=>{let e;do e=Math.floor(Math.random()*r.length);while(e===o);d(e),s(e)},[o,s]);n.useEffect(()=>{const e=r[0];e&&(v(e.title),l({type:"SET_BEAT_PATTERN",payload:e.pattern}),i({type:"SET_NOTE_DURATION",payload:e.note}))},[l,i]),n.useEffect(()=>{c&&a.cycleCount==x&&(j({type:"RESET_CYCLE"}),u?S():y())},[x,c,u,y,S,a.cycleCount,j,a]);const A=t.jsx(m,{sx:{borderRadius:"50%"},onClick:I,children:t.jsx(G,{size:16})}),N=t.jsx(m,{sx:{borderRadius:"50%"},onClick:y,children:t.jsx(J,{size:16})}),b=t.jsxs(z,{sx:{display:"flex",direction:"row",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[c?t.jsxs(t.Fragment,{children:[t.jsx(T,{variant:"h6",onClick:()=>g(!1),children:"Выключить"}),t.jsx(m,{sx:{borderRadius:"50%"},onClick:()=>C(e=>Math.max(1,e-1)),children:t.jsx(q,{size:16})}),t.jsxs(B,{justifyContent:"center",children:[t.jsx(f,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(f,{fontSize:"11px",alignSelf:"center",textAlign:"center",children:"повторений"})]}),t.jsx(m,{sx:{borderRadius:"50%"},onClick:()=>C(e=>Math.min(100,e+1)),children:t.jsx(U,{size:16})})]}):t.jsx(T,{variant:"h6",onClick:()=>g(!0),children:"Авто переключение"}),c&&t.jsx(M,{control:t.jsx(w,{size:"small",checked:u,onChange:e=>_(e.target.checked)}),label:"Сллучайное переключение",labelPlacement:"start",sx:{mt:2,fontSize:"11px",width:"100%",textAlign:"center",justifyContent:"center"}})]});return t.jsxs(t.Fragment,{children:[t.jsx(K,{title:"Практика ритмического алфавита – Развиваем чувство ритма | Strumming.ru",description:"Погружаемся в практику ритмического алфавита: развиваем внутренний ритм, учимся свободно играть и чувствовать музыку. Шаг за шагом — к ритмической свободе!"}),t.jsx(O,{}),t.jsxs(L,{component:"main",sx:{display:"flex",flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center",p:0},maxWidth:"xl",children:[!p&&t.jsx($,{patterns:r,onSelect:k})," ",p&&t.jsx(f,{variant:"h5",component:"h3",align:"center",children:P}),p&&t.jsx(n.Suspense,{fallback:t.jsx(D,{}),children:t.jsx(Y,{})}),p&&t.jsx(H,{nextButton:N,prevButton:A,settingsSlot:b})]})]})}export{lt as default};
