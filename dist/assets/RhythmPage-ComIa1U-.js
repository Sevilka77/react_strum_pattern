const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-8VUtyjdl.js","assets/ui-CMvDxjNB.js","assets/vendor-CM9vOon3.js","assets/useCycleSettings-CmNdq-a3.js","assets/CycleSettingsContext-DfRQjNDL.js","assets/index-DeJ4GRlE.js","assets/SoundSettingsContext-Bm8RvGBw.js","assets/index-CFMH45gb.js","index.css","assets/Icons-COlZxRnr.js","assets/useSequenceSettings-BipQGXYz.js","assets/ChordSettingsContext-S8S1EYqQ.js","assets/useEditMode-BO9UjOMb.js","assets/EditModeContext-B99zUBYh.js"])))=>i.map(i=>d[i]);
import{T as I,_ as N}from"./index-CFMH45gb.js";import{r as n,j as t,g as y,i as b,k as A,d as v,I as h,S as B,F as D,n as M}from"./ui-CMvDxjNB.js";import{u as w,H as z}from"./index-DeJ4GRlE.js";import{u as L,C as F,I as O,a as W}from"./useSequenceSettings-BipQGXYz.js";import{u as H}from"./useCycleSettings-CmNdq-a3.js";import{w as q,F as U}from"./SkipForward-0Q-L_MS0.js";import{M as G}from"./MetaData-BgGEpkSY.js";import"./vendor-CM9vOon3.js";import"./SoundSettingsContext-Bm8RvGBw.js";import"./ChordSettingsContext-S8S1EYqQ.js";import"./CycleSettingsContext-DfRQjNDL.js";const i=[{title:"A",pattern:"1000",temp:80,note:"4n",level:"rhythm",position:38},{title:"B",pattern:"0100",temp:80,note:"4n",level:"rhythm",position:39},{title:"C",pattern:"0010",temp:80,note:"4n",level:"rhythm",position:40},{title:"D",pattern:"0001",temp:80,note:"4n",level:"rhythm",position:41},{title:"E",pattern:"1100",temp:80,note:"4n",level:"rhythm",position:42},{title:"F",pattern:"0110",temp:80,note:"4n",level:"rhythm",position:43},{title:"G",pattern:"0011",temp:80,note:"4n",level:"rhythm",position:44},{title:"H",pattern:"1001",temp:80,note:"4n",level:"rhythm",position:46},{title:"I",pattern:"1010",temp:80,note:"4n",level:"rhythm",position:45},{title:"J",pattern:"0101",temp:80,note:"4n",level:"rhythm",position:48},{title:"K",pattern:"1110",temp:80,note:"4n",level:"rhythm",position:45},{title:"L",pattern:"0111",temp:80,note:"4n",level:"rhythm",position:45},{title:"M",pattern:"1011",temp:80,note:"4n",level:"rhythm",position:47},{title:"N",pattern:"1101",temp:80,note:"4n",level:"rhythm",position:48},{title:"O",pattern:"1111",temp:80,note:"4n",level:"rhythm",position:49},{title:"P",pattern:"0000",temp:80,note:"4n",level:"rhythm",position:50}],J=n.lazy(()=>N(()=>import("./index-8VUtyjdl.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(r=>({default:r.MetronomePlayer})));function st(){const{cycleSettings:r,dispatch:f}=H(),{dispatch:a}=w(),{dispatch:l}=L(),[o,m]=n.useState(0),[x,j]=n.useState(5),[p,C]=n.useState(!1),[d,T]=n.useState(!1),[E,g]=n.useState(),s=n.useCallback(e=>{const c=i[e];c&&(g(c.title),l({type:"SET_BEAT_PATTERN",payload:c.pattern}),a({type:"SET_NOTE_DURATION",payload:c.note}))},[l,a]),_=n.useCallback(()=>{const e=(o-1+i.length)%i.length;m(e),s(e)},[o,s]),u=n.useCallback(()=>{const e=(o+1)%i.length;m(e),s(e)},[o,s]),S=n.useCallback(()=>{let e;do e=Math.floor(Math.random()*i.length);while(e===o);m(e),s(e)},[o,s]);n.useEffect(()=>{const e=i[0];e&&(g(e.title),l({type:"SET_BEAT_PATTERN",payload:e.pattern}),a({type:"SET_NOTE_DURATION",payload:e.note}))},[l,a]),n.useEffect(()=>{p&&r.cycleCount==x&&(f({type:"RESET_CYCLE"}),d?S():u())},[x,p,d,u,S,r.cycleCount,f,r]);const k=t.jsx(h,{sx:{borderRadius:"50%"},onClick:_,children:t.jsx(q,{size:16})}),P=t.jsx(h,{sx:{borderRadius:"50%"},onClick:u,children:t.jsx(U,{size:16})}),R=t.jsxs(A,{sx:{display:"flex",direction:"row",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[p?t.jsxs(t.Fragment,{children:[t.jsx(v,{variant:"h6",onClick:()=>C(!1),children:"Выключить"}),t.jsx(h,{sx:{borderRadius:"50%"},onClick:()=>j(e=>Math.max(1,e-1)),children:t.jsx(O,{size:16})}),t.jsxs(B,{justifyContent:"center",children:[t.jsx(y,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(y,{fontSize:"11px",alignSelf:"center",textAlign:"center",children:"повторений"})]}),t.jsx(h,{sx:{borderRadius:"50%"},onClick:()=>j(e=>Math.min(100,e+1)),children:t.jsx(W,{size:16})})]}):t.jsx(v,{variant:"h6",onClick:()=>C(!0),children:"Авто переключение"}),p&&t.jsx(D,{control:t.jsx(M,{size:"small",checked:d,onChange:e=>T(e.target.checked)}),label:"Сллучайное переключение",labelPlacement:"start",sx:{mt:2,fontSize:"11px",width:"100%",textAlign:"center",justifyContent:"center"}})]});return t.jsxs(t.Fragment,{children:[t.jsx(G,{title:"Практика ритмического алфавита – Развиваем чувство ритма | Strumming.ru",description:"Погружаемся в практику ритмического алфавита: развиваем внутренний ритм, учимся свободно играть и чувствовать музыку. Шаг за шагом — к ритмической свободе!"}),t.jsx(z,{}),t.jsx(y,{variant:"h5",component:"h3",align:"center",children:E}),t.jsxs(b,{component:"main",sx:{display:"flex",flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center",p:0},maxWidth:"xl",children:[t.jsx(n.Suspense,{fallback:t.jsx(I,{}),children:t.jsx(J,{})}),t.jsx(F,{nextButton:P,prevButton:k,settingsSlot:R})]})]})}export{st as default};
