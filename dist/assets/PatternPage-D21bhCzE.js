const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-J-S_upcn.js","assets/ui-_ppKRIVF.js","assets/vendor-Bn94jRP8.js","assets/useCycleSettings-CfetrIb5.js","assets/index-BMwkpoh6.js","assets/Icons-VQ3Jseo-.js","assets/useSequenceSettings-CA8537Iz.js","assets/LDJson-CrGSvPQ1.js","assets/useEditMode-CVuftIXB.js"])))=>i.map(i=>d[i]);
import{_ as g,u as _,a as x}from"./index-BMwkpoh6.js";import{j as e,g as P}from"./ui-_ppKRIVF.js";import{u as h,H as S,L as j}from"./LDJson-CrGSvPQ1.js";import{r as s}from"./vendor-Bn94jRP8.js";import{u as A,C as D}from"./useSequenceSettings-CA8537Iz.js";import{p as O}from"./patterns-Df8ZQUM2.js";import"./Icons-VQ3Jseo-.js";const N=s.lazy(()=>g(()=>import("./index-J-S_upcn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(i=>({default:i.MetronomePlayer})));function C(){const i=_(),{beatPattern:o}=x(),{dispatch:n}=h(),{sequenceSettings:c,dispatch:r}=A(),{pattern:l}=c,a=i.state,[u,m]=s.useState("Выбор боя"),[d,T]=s.useState(""),[E,y]=s.useState({});return s.useEffect(()=>{if(a)m(a.title||"Пользовательский бой"),r({type:"SET_BEAT_PATTERN",payload:a.pattern}),n({type:"SET_NOTE_DURATION",payload:a.note}),n({type:"SET_TEMPO",payload:a.temp});else if(o){const t=O.find(p=>p.pattern===o);if(t){m(t.title||"Выбор боя"),r({type:"SET_BEAT_PATTERN",payload:t.pattern}),n({type:"SET_NOTE_DURATION",payload:t.note}),n({type:"SET_TEMPO",payload:t.temp});const p=`https://strumming.ru/assets/images/svg/${t.image}`;T(p);const f={"@context":"https://schema.org","@type":"WebPage","@id":`https://strumming.ru/pattern/${t.pattern}`,url:`https://strumming.ru/pattern/${t.pattern}`,name:`${t.title}`,description:`Схема для гитарного боя ${t.title}`,image:{"@type":"ImageObject",url:p},mainEntityOfPage:`https://strumming.ru/pattern/${t.pattern}`};y(f)}else m("Пользовательский бой"),r({type:"SET_BEAT_PATTERN",payload:o})}else r({type:"SET_BEAT_PATTERN",payload:l})},[a,o,l,d,n,r]),e.jsxs(e.Fragment,{children:[e.jsx(S,{title:u}),e.jsx(j,{data:E}),e.jsxs(P,{component:"main",sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[e.jsx(s.Suspense,{fallback:e.jsx("div",{children:"Загрузка..."}),children:e.jsx(N,{})}),e.jsx(D,{})]})]})}export{C as default};
