const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-8VUtyjdl.js","assets/ui-CMvDxjNB.js","assets/vendor-CM9vOon3.js","assets/useCycleSettings-CmNdq-a3.js","assets/CycleSettingsContext-DfRQjNDL.js","assets/index-DeJ4GRlE.js","assets/SoundSettingsContext-Bm8RvGBw.js","assets/index-CFMH45gb.js","index.css","assets/Icons-COlZxRnr.js","assets/useSequenceSettings-BipQGXYz.js","assets/ChordSettingsContext-S8S1EYqQ.js","assets/useEditMode-BO9UjOMb.js","assets/EditModeContext-B99zUBYh.js"])))=>i.map(i=>d[i]);
import{T as k,_ as I}from"./index-CFMH45gb.js";import{r as n,j as t,g as m,i as R,k as N,d as C,I as p,S as A}from"./ui-CMvDxjNB.js";import{u as b,H as v}from"./index-DeJ4GRlE.js";import{u as B,C as D,I as M,a as O}from"./useSequenceSettings-BipQGXYz.js";import{l as o}from"./learnPatterns-Dd22WPXI.js";import{u as z}from"./useCycleSettings-CmNdq-a3.js";import{w as L,F as w}from"./SkipForward-0Q-L_MS0.js";import{M as F}from"./MetaData-BgGEpkSY.js";import"./vendor-CM9vOon3.js";import"./SoundSettingsContext-Bm8RvGBw.js";import"./ChordSettingsContext-S8S1EYqQ.js";import"./CycleSettingsContext-DfRQjNDL.js";const W=n.lazy(()=>I(()=>import("./index-8VUtyjdl.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(r=>({default:r.MetronomePlayer})));function tt(){const{cycleSettings:r,dispatch:h}=z(),{dispatch:s}=b(),{dispatch:i}=B(),[c,f]=n.useState(0),[x,j]=n.useState(5),[d,y]=n.useState(!1),[E,T]=n.useState(),l=n.useCallback(e=>{const a=o[e];a&&(T(a.title),i({type:"SET_BEAT_PATTERN",payload:a.pattern}),s({type:"SET_NOTE_DURATION",payload:a.note}),s({type:"SET_TEMPO",payload:a.temp}))},[i,s]),S=n.useCallback(()=>{const e=(c-1+o.length)%o.length;f(e),l(e)},[c,l]),u=n.useCallback(()=>{const e=(c+1)%o.length;f(e),l(e)},[c,l]);n.useEffect(()=>{const e=o[0];e&&(T(e.title),i({type:"SET_BEAT_PATTERN",payload:e.pattern}),s({type:"SET_NOTE_DURATION",payload:e.note}),s({type:"SET_TEMPO",payload:e.temp}))},[i,s]),n.useEffect(()=>{d&&r.cycleCount>=x&&(h({type:"RESET_CYCLE"}),u())},[x,d,u,r.cycleCount,h]);const g=t.jsx(p,{sx:{borderRadius:"50%"},onClick:S,children:t.jsx(L,{size:16})}),_=t.jsx(p,{sx:{borderRadius:"50%"},onClick:u,children:t.jsx(w,{size:16})}),P=t.jsx(N,{sx:{display:"flex",direction:"row",justifyContent:"center",width:"100%",flexWrap:"wrap",gap:1,mt:1},children:d?t.jsxs(t.Fragment,{children:[t.jsx(C,{variant:"h6",onClick:()=>y(!1),children:"Выключить"}),t.jsx(p,{sx:{borderRadius:"50%"},onClick:()=>j(e=>Math.max(1,e-1)),children:t.jsx(M,{size:16})}),t.jsxs(A,{justifyContent:"center",children:[t.jsx(m,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(m,{fontSize:"11px",alignSelf:"center",textAlign:"center",children:"повторений"})]}),t.jsx(p,{sx:{borderRadius:"50%"},onClick:()=>j(e=>Math.min(100,e+1)),children:t.jsx(O,{size:16})})]}):t.jsx(C,{variant:"h6",onClick:()=>y(!0),children:"Авто переключение"})});return t.jsxs(t.Fragment,{children:[t.jsx(F,{title:"Учимся играть гитарные бои — от простого к сложному",description:"24 упражнения для уверенной игры боем: пошаговое развитие чувства ритма и техники правой руки. Учитесь играть гитарные ритмы постепенно и без стресса!"}),t.jsx(v,{}),t.jsx(m,{variant:"h5",component:"h3",align:"center",children:E}),t.jsxs(R,{component:"main",sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[t.jsx(n.Suspense,{fallback:t.jsx(k,{}),children:t.jsx(W,{})}),t.jsx(D,{nextButton:_,prevButton:g,settingsSlot:P})]})]})}export{tt as default};
