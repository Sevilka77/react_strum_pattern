import{j as e,b as u,w as x}from"./ui-DfI7pIEn.js";import{r as i,a as F}from"./vendor-Bn94jRP8.js";import{u as p,a as y,X as d,b as h,c as M,A as l,d as m,e as g,f as w,g as b,h as A,P as I,i as B}from"./index-B_MP8A4L.js";const C=({icon:r,active:n})=>{const o=i.useMemo(()=>({fill:n?"currentColor":"#ffffff0",fontSize:"inherit"}),[n]);return e.jsx(u,{variant:"h1",component:"p",sx:{display:"flex",alignItems:"center"},children:F.cloneElement(r,{sx:o})})},D=i.memo(C);function z({id:r,noteDuration:n}){let o,t;if(n==="4n")o=r+1,t="#ffa726";else if(n==="8n")o=r%2===0?Math.floor(r/2)+1:"и",t=r%2===0?"#ffa726":"#FFFFFF";else if(n==="16n"){const s=r%4;s===0?(o=Math.floor(r/4)+1,t="#ffa726"):s===1||s===2?(o=s===1?"та":"и",t="#FFFFFF"):(o="та",t="#FFFFFF")}else o=r+1,t="warning.main";return e.jsx(u,{variant:"h4",component:"p",sx:{textAlign:"center",color:t,textShadow:`0 0 42px ${t}`},children:o})}const P=({noteDuration:r,beatPattern:n})=>{const{config:o}=p(),t=n,{activeBeat:s}=y(),j=i.useMemo(()=>t.map((f,a)=>{const c=a%2!==0;switch(f){case"0":return c?e.jsx(l,{color:"disabled"}):e.jsx(m,{color:"disabled"});case"1":return c?e.jsx(l,{color:"primary"}):e.jsx(m,{color:"primary"});case"b":return c?e.jsx(b,{color:"primary"}):e.jsx(A,{color:"primary"});case"h":return c?e.jsx(g,{color:"primary"}):e.jsx(w,{color:"primary"});case"A":return c?e.jsx(l,{color:"warning"}):e.jsx(m,{color:"warning"});case"x":return e.jsx(M,{color:"primary"});case"c":return c?e.jsx(d,{color:"primary"}):e.jsx(h,{color:"primary"});default:return null}}),[t]);return e.jsx(e.Fragment,{children:e.jsx(x,{container:!0,columns:8,alignItems:"center",justifyContent:"center",children:t.map((f,a)=>e.jsxs(x,{size:{xs:2,sm:1,md:1},sx:{boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minWidth:"max-content"},children:[e.jsx(z,{id:a,noteDuration:r}),e.jsx(D,{icon:j[a],active:s===a}),o.editMode&&e.jsx(I,{index:a})]},a))})})},U=i.memo(P);function X(){const{config:r}=p(),{beatPattern:n,noteDuration:o}=r;B(r);const t=i.useMemo(()=>n.split(""),[n]),s=i.useMemo(()=>o,[o]);return e.jsx(U,{noteDuration:s,beatPattern:t})}export{X as default};
