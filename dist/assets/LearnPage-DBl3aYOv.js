const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-bOY8AkOH.js","assets/ui-DtFdnKGP.js","assets/vendor-CM9vOon3.js","assets/useCycleSettings-B4NSOV4n.js","assets/index-DTb0h8FC.js","index.css","assets/LDJson-DNZueqHa.js","assets/Icons-2xFd7VTX.js","assets/useSequenceSettings-BVhA4Den.js","assets/useEditMode-CgmOJvoB.js"])))=>i.map(i=>d[i]);
import{T as A,_ as k}from"./index-DTb0h8FC.js";import{r as n,j as t,g as m,i as I,k as N,d as p,S as R,I as T}from"./ui-DtFdnKGP.js";import{u as D,L as v,H as B}from"./LDJson-DNZueqHa.js";import{u as L,C as b,I as w,a as O}from"./useSequenceSettings-BVhA4Den.js";import{l as o}from"./learnPatterns-Dd22WPXI.js";import{u as W}from"./useCycleSettings-B4NSOV4n.js";import{w as M,F as z}from"./SkipForward-BsRSHdww.js";import"./vendor-CM9vOon3.js";const q=n.lazy(()=>k(()=>import("./index-bOY8AkOH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(r=>({default:r.MetronomePlayer})));function Q(){const{cycleSettings:r,dispatch:h}=W(),{dispatch:s}=D(),{dispatch:i}=L(),[c,f]=n.useState(0),[x,y]=n.useState(5),[d,g]=n.useState(!1),[S,j]=n.useState(),C={"@context":"https://schema.org","@type":"WebApplication",name:"Тренажер гитарного боя",operatingSystem:"Все платформы",applicationCategory:"Музыкальный тренажер",url:"https://strumming.ru/learn",description:"Практикуйтесь в игре на гитаре с помощью онлайн тренажера гитарного боя на Strumming.ru.",potentialAction:{"@type":"ExerciseAction",target:"https://strumming.ru/learn",name:"Начать тренировку"}},l=n.useCallback(e=>{const a=o[e];a&&(j(a.title),i({type:"SET_BEAT_PATTERN",payload:a.pattern}),s({type:"SET_NOTE_DURATION",payload:a.note}),s({type:"SET_TEMPO",payload:a.temp}))},[i,s]),E=n.useCallback(()=>{const e=(c-1+o.length)%o.length;f(e),l(e)},[c,l]),u=n.useCallback(()=>{const e=(c+1)%o.length;f(e),l(e)},[c,l]);n.useEffect(()=>{const e=o[0];e&&(j(e.title),i({type:"SET_BEAT_PATTERN",payload:e.pattern}),s({type:"SET_NOTE_DURATION",payload:e.note}),s({type:"SET_TEMPO",payload:e.temp}))},[i,s]),n.useEffect(()=>{d&&r.cycleCount>=x&&(h({type:"RESET_CYCLE"}),u())},[x,d,u,r.cycleCount,h]);const _=t.jsx(T,{sx:{borderRadius:"50%"},onClick:E,children:t.jsx(M,{size:32})}),F=t.jsx(T,{sx:{borderRadius:"50%"},onClick:u,children:t.jsx(z,{size:32})}),P=t.jsx(N,{sx:{display:"flex",direction:"row",justifyContent:"center",width:"100%",flexWrap:"wrap",gap:1,mt:1},children:d?t.jsxs(t.Fragment,{children:[t.jsx(p,{variant:"h6",onClick:()=>g(!1),children:"Выключить"}),t.jsx(p,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>y(e=>Math.max(1,e-1)),children:t.jsx(w,{})}),t.jsxs(R,{justifyContent:"center",children:[t.jsx(m,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(m,{fontSize:"11px",alignSelf:"center",textAlign:"center",children:"повторений"})]}),t.jsx(p,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>y(e=>Math.min(100,e+1)),children:t.jsx(O,{})})]}):t.jsx(p,{variant:"h6",onClick:()=>g(!0),children:"Авто переключение"})});return t.jsxs(t.Fragment,{children:[t.jsx(v,{data:C}),t.jsx(B,{}),t.jsx(m,{variant:"h5",component:"h3",align:"center",children:S}),t.jsxs(I,{component:"main",sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[t.jsx(n.Suspense,{fallback:t.jsx(A,{}),children:t.jsx(q,{})}),t.jsx(b,{nextButton:F,prevButton:_,settingsSlot:P})]})]})}export{Q as default};
