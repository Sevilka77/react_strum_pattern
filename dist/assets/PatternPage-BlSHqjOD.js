const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-bOY8AkOH.js","assets/ui-DtFdnKGP.js","assets/vendor-CM9vOon3.js","assets/useCycleSettings-B4NSOV4n.js","assets/index-DTb0h8FC.js","index.css","assets/LDJson-DNZueqHa.js","assets/Icons-2xFd7VTX.js","assets/useSequenceSettings-BVhA4Den.js","assets/useEditMode-CgmOJvoB.js"])))=>i.map(i=>d[i]);
import{u as f,a as g,T as x,_ as P}from"./index-DTb0h8FC.js";import{r as s,j as e,i as S}from"./ui-DtFdnKGP.js";import{u as h,H as j,L as A}from"./LDJson-DNZueqHa.js";import{u as D,C as O}from"./useSequenceSettings-BVhA4Den.js";import{p as N}from"./patterns-CgaHv5Iq.js";import"./vendor-CM9vOon3.js";const R=s.lazy(()=>P(()=>import("./index-bOY8AkOH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(i=>({default:i.MetronomePlayer})));function M(){const i=f(),{beatPattern:o}=g(),{dispatch:n}=h(),{sequenceSettings:c,dispatch:r}=D(),{pattern:l}=c,a=i.state,[u,m]=s.useState("Выбор боя"),[T,d]=s.useState(""),[E,y]=s.useState({});return s.useEffect(()=>{if(a)m(a.title||"Пользовательский бой"),r({type:"SET_BEAT_PATTERN",payload:a.pattern}),n({type:"SET_NOTE_DURATION",payload:a.note}),n({type:"SET_TEMPO",payload:a.temp});else if(o){const t=N.find(p=>p.pattern===o);if(t){m(t.title||"Выбор боя"),r({type:"SET_BEAT_PATTERN",payload:t.pattern}),n({type:"SET_NOTE_DURATION",payload:t.note}),n({type:"SET_TEMPO",payload:t.temp});const p=`https://strumming.ru/assets/images/svg/${t.image}`;d(p);const _={"@context":"https://schema.org","@type":"WebPage","@id":`https://strumming.ru/pattern/${t.pattern}`,url:`https://strumming.ru/pattern/${t.pattern}`,name:`${t.title}`,description:`Схема для гитарного боя ${t.title}`,image:{"@type":"ImageObject",url:p},mainEntityOfPage:`https://strumming.ru/pattern/${t.pattern}`};y(_)}else m("Пользовательский бой"),r({type:"SET_BEAT_PATTERN",payload:o})}else r({type:"SET_BEAT_PATTERN",payload:l})},[a,o,l,T,n,r]),e.jsxs(e.Fragment,{children:[e.jsx(j,{title:u}),e.jsx(A,{data:E}),e.jsxs(S,{component:"main",sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[e.jsx(s.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(R,{})}),e.jsx(O,{})]})]})}export{M as default};
