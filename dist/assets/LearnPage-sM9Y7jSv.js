const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BXilTugy.js","assets/ui-BOFvu-yV.js","assets/vendor-Bn94jRP8.js","assets/useCycleSettings-BWeLatdm.js","assets/index-BBCtmoAr.js","assets/Icons-BmYRTnAw.js","assets/useSequenceSettings-CjNl_ThP.js","assets/LDJson-CVTTjppj.js","assets/useEditMode-Dhkebv9W.js"])))=>i.map(i=>d[i]);
import{_ as T}from"./index-BBCtmoAr.js";import{j as t,e as u,g as _,h as P,a,S as F}from"./ui-BOFvu-yV.js";import{u as A,L as k,H as v}from"./LDJson-CVTTjppj.js";import{r as n}from"./vendor-Bn94jRP8.js";import{u as N,M as D,P as W,C as I}from"./useSequenceSettings-CjNl_ThP.js";import{l as i}from"./learnPatterns-Dd22WPXI.js";import{u as M}from"./useCycleSettings-BWeLatdm.js";import"./Icons-BmYRTnAw.js";const R=n.lazy(()=>T(()=>import("./index-BXilTugy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(o=>({default:o.MetronomePlayer})));function U(){const{cycleSettings:o,dispatch:m}=M(),{dispatch:s}=A(),{dispatch:c}=N(),[l,f]=n.useState(0),[x,y]=n.useState(5),[d,g]=n.useState(!1),[C,j]=n.useState(),E={"@context":"https://schema.org","@type":"WebApplication",name:"Тренажер гитарного боя",operatingSystem:"Все платформы",applicationCategory:"Музыкальный тренажер",url:"https://strumming.ru/learn",description:"Практикуйтесь в игре на гитаре с помощью онлайн тренажера гитарного боя на Strumming.ru.",potentialAction:{"@type":"ExerciseAction",target:"https://strumming.ru/learn",name:"Начать тренировку"}},p=n.useCallback(e=>{const r=i[e];r&&(j(r.title),c({type:"SET_BEAT_PATTERN",payload:r.pattern}),s({type:"SET_NOTE_DURATION",payload:r.note}),s({type:"SET_TEMPO",payload:r.temp}))},[c,s]),S=n.useCallback(()=>{const e=(l-1+i.length)%i.length;f(e),p(e)},[l,p]),h=n.useCallback(()=>{const e=(l+1)%i.length;f(e),p(e)},[l,p]);return n.useEffect(()=>{const e=i[0];e&&(j(e.title),c({type:"SET_BEAT_PATTERN",payload:e.pattern}),s({type:"SET_NOTE_DURATION",payload:e.note}),s({type:"SET_TEMPO",payload:e.temp}))},[c,s]),n.useEffect(()=>{d&&o.cycleCount>=x&&(m({type:"RESET_CYCLE"}),h())},[x,d,h,o.cycleCount,m]),t.jsxs(t.Fragment,{children:[t.jsx(k,{data:E}),t.jsx(v,{}),t.jsx(u,{variant:"h5",component:"h3",align:"center",flexGrow:"1",children:C}),t.jsxs(_,{component:"main",sx:{display:"flex",minHeight:"80dvh",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[t.jsx(n.Suspense,{fallback:t.jsx("div",{children:"Загрузка..."}),children:t.jsx(R,{})}),t.jsxs(P,{sx:{display:"flex",direction:"row",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[t.jsx(a,{variant:"h6",sx:{minWidth:"140px"},onClick:S,children:"Предыдущая буква"}),t.jsx(a,{variant:"h6",sx:{minWidth:"140px"},onClick:h,children:"Следующая буква"}),d?t.jsxs(t.Fragment,{children:[t.jsx(a,{variant:"h6",onClick:()=>g(!1),children:"Выключить"}),t.jsx(a,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>y(e=>Math.max(1,e-1)),children:t.jsx(D,{})}),t.jsxs(F,{justifyContent:"center",children:[t.jsx(u,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(u,{fontSize:"11px",alignSelf:"center",textAlign:"center",children:"повторений"})]}),t.jsx(a,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>y(e=>Math.min(100,e+1)),children:t.jsx(W,{})})]}):t.jsx(a,{variant:"h6",onClick:()=>g(!0),children:"Авто переключение"})]}),t.jsx(I,{})]})]})}export{U as default};
