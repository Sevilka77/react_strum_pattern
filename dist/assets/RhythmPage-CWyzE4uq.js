const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-iBR7LtXF.js","assets/ui-BOFvu-yV.js","assets/vendor-Bn94jRP8.js","assets/useCycleSettings-C509ogUw.js","assets/index-DAaUKsB7.js","assets/Icons-BmYRTnAw.js","assets/useSequenceSettings-BdskOJ0w.js","assets/LDJson-B43UvX_X.js","assets/useEditMode-DBICx88K.js"])))=>i.map(i=>d[i]);
import{_}from"./index-DAaUKsB7.js";import{j as t,e as y,g as F,h as A,a,S as k,F as N,l as M}from"./ui-BOFvu-yV.js";import{u as R,L as w,H as D}from"./LDJson-B43UvX_X.js";import{r as n}from"./vendor-Bn94jRP8.js";import{u as I,M as b,P as L,C as W}from"./useSequenceSettings-BdskOJ0w.js";import{u as O}from"./useCycleSettings-C509ogUw.js";import"./Icons-BmYRTnAw.js";const r=[{title:"A",pattern:"1000",temp:80,note:"4n",level:"rhythm",position:38},{title:"B",pattern:"0100",temp:80,note:"4n",level:"rhythm",position:39},{title:"C",pattern:"0010",temp:80,note:"4n",level:"rhythm",position:40},{title:"D",pattern:"0001",temp:80,note:"4n",level:"rhythm",position:41},{title:"E",pattern:"1100",temp:80,note:"4n",level:"rhythm",position:42},{title:"F",pattern:"0110",temp:80,note:"4n",level:"rhythm",position:43},{title:"G",pattern:"0011",temp:80,note:"4n",level:"rhythm",position:44},{title:"H",pattern:"1001",temp:80,note:"4n",level:"rhythm",position:46},{title:"I",pattern:"1010",temp:80,note:"4n",level:"rhythm",position:45},{title:"J",pattern:"0101",temp:80,note:"4n",level:"rhythm",position:48},{title:"K",pattern:"1110",temp:80,note:"4n",level:"rhythm",position:45},{title:"L",pattern:"0111",temp:80,note:"4n",level:"rhythm",position:45},{title:"M",pattern:"1011",temp:80,note:"4n",level:"rhythm",position:47},{title:"N",pattern:"1101",temp:80,note:"4n",level:"rhythm",position:48},{title:"O",pattern:"1111",temp:80,note:"4n",level:"rhythm",position:49},{title:"P",pattern:"0000",temp:80,note:"4n",level:"rhythm",position:50}],B=n.lazy(()=>_(()=>import("./index-iBR7LtXF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(l=>({default:l.MetronomePlayer})));function V(){const{cycleSettings:l,dispatch:f}=O(),{dispatch:o}=R(),{dispatch:c}=I(),[i,m]=n.useState(0),[x,g]=n.useState(5),[h,j]=n.useState(!1),[d,S]=n.useState(!1),[E,C]=n.useState(),T={"@context":"https://schema.org","@type":"WebApplication",name:"Тренажер гитарного боя",operatingSystem:"Все платформы",applicationCategory:"Музыкальный тренажер",url:"https://strumming.ru/learn",description:"Практикуйтесь в игре на гитаре с помощью онлайн тренажера гитарного боя на Strumming.ru.",potentialAction:{"@type":"ExerciseAction",target:"https://strumming.ru/learn",name:"Начать тренировку"}},s=n.useCallback(e=>{const p=r[e];p&&(C(p.title),c({type:"SET_BEAT_PATTERN",payload:p.pattern}),o({type:"SET_NOTE_DURATION",payload:p.note}),o({type:"SET_TEMPO",payload:p.temp}))},[c,o]),P=n.useCallback(()=>{const e=(i-1+r.length)%r.length;m(e),s(e)},[i,s]),u=n.useCallback(()=>{const e=(i+1)%r.length;m(e),s(e)},[i,s]),v=n.useCallback(()=>{let e;do e=Math.floor(Math.random()*r.length);while(e===i);m(e),s(e)},[i,s]);return n.useEffect(()=>{const e=r[0];e&&(C(e.title),c({type:"SET_BEAT_PATTERN",payload:e.pattern}),o({type:"SET_NOTE_DURATION",payload:e.note}),o({type:"SET_TEMPO",payload:e.temp}))},[c,o]),n.useEffect(()=>{h&&l.cycleCount>=x&&(f({type:"RESET_CYCLE"}),d?v():u())},[x,h,d,u,v,l.cycleCount,f,l]),t.jsxs(t.Fragment,{children:[t.jsx(w,{data:T}),t.jsx(D,{}),t.jsx(y,{variant:"h5",component:"h3",align:"center",flexGrow:"1",children:E}),t.jsxs(F,{component:"main",sx:{display:"flex",minHeight:"80dvh",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[t.jsx(n.Suspense,{fallback:t.jsx("div",{children:"Загрузка..."}),children:t.jsx(B,{})}),t.jsxs(A,{sx:{display:"flex",direction:"row",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[t.jsx(a,{variant:"h6",sx:{minWidth:"140px"},onClick:P,children:"Предыдущая буква"}),t.jsx(a,{variant:"h6",sx:{minWidth:"140px"},onClick:u,children:"Следующая буква"}),h?t.jsxs(t.Fragment,{children:[t.jsx(a,{variant:"h6",onClick:()=>j(!1),children:"Выключить"}),t.jsx(a,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>g(e=>Math.max(1,e-1)),children:t.jsx(b,{})}),t.jsxs(k,{justifyContent:"center",children:[t.jsx(y,{sx:{width:"40px",minWidth:"40px"},alignSelf:"center",textAlign:"center",children:x}),t.jsx(y,{fontSize:"11px",alignSelf:"center",textAlign:"center",children:"повторений"})]}),t.jsx(a,{sx:{color:"#FFFFFF",width:"40px",minWidth:"40px",px:0},onClick:()=>g(e=>Math.min(100,e+1)),children:t.jsx(L,{})})]}):t.jsx(a,{variant:"h6",onClick:()=>j(!0),children:"Авто переключение"}),h&&t.jsx(N,{control:t.jsx(M,{size:"small",checked:d,onChange:e=>S(e.target.checked)}),label:"Сллучайное переключение",labelPlacement:"start",sx:{mt:2,fontSize:"11px",width:"100%",textAlign:"center",justifyContent:"center"}})]}),t.jsx(W,{})]})]})}export{V as default};
