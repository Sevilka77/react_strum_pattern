const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B7t6GCLM.js","assets/ui-DtFdnKGP.js","assets/vendor-CM9vOon3.js","assets/useCycleSettings-BczZlp5C.js","assets/index-BXHAWDh2.js","index.css","assets/LDJson-D4B3ShDz.js","assets/Icons-2xFd7VTX.js","assets/useSequenceSettings-DAyhsZmy.js","assets/useEditMode-CvhTKY_o.js"])))=>i.map(i=>d[i]);
import{u as f,a as g,_ as x}from"./index-BXHAWDh2.js";import{r as s,j as e,i as P}from"./ui-DtFdnKGP.js";import{u as h,H as S,L as j}from"./LDJson-D4B3ShDz.js";import{u as A,C as D}from"./useSequenceSettings-DAyhsZmy.js";import{p as O}from"./patterns-Df8ZQUM2.js";import"./vendor-CM9vOon3.js";const N=s.lazy(()=>x(()=>import("./index-B7t6GCLM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(i=>({default:i.MetronomePlayer})));function B(){const i=f(),{beatPattern:o}=g(),{dispatch:n}=h(),{sequenceSettings:c,dispatch:r}=A(),{pattern:l}=c,a=i.state,[u,m]=s.useState("Выбор боя"),[d,T]=s.useState(""),[E,y]=s.useState({});return s.useEffect(()=>{if(a)m(a.title||"Пользовательский бой"),r({type:"SET_BEAT_PATTERN",payload:a.pattern}),n({type:"SET_NOTE_DURATION",payload:a.note}),n({type:"SET_TEMPO",payload:a.temp});else if(o){const t=O.find(p=>p.pattern===o);if(t){m(t.title||"Выбор боя"),r({type:"SET_BEAT_PATTERN",payload:t.pattern}),n({type:"SET_NOTE_DURATION",payload:t.note}),n({type:"SET_TEMPO",payload:t.temp});const p=`https://strumming.ru/assets/images/svg/${t.image}`;T(p);const _={"@context":"https://schema.org","@type":"WebPage","@id":`https://strumming.ru/pattern/${t.pattern}`,url:`https://strumming.ru/pattern/${t.pattern}`,name:`${t.title}`,description:`Схема для гитарного боя ${t.title}`,image:{"@type":"ImageObject",url:p},mainEntityOfPage:`https://strumming.ru/pattern/${t.pattern}`};y(_)}else m("Пользовательский бой"),r({type:"SET_BEAT_PATTERN",payload:o})}else r({type:"SET_BEAT_PATTERN",payload:l})},[a,o,l,d,n,r]),e.jsxs(e.Fragment,{children:[e.jsx(S,{title:u}),e.jsx(j,{data:E}),e.jsxs(P,{component:"main",sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},maxWidth:"xl",children:[e.jsx(s.Suspense,{fallback:e.jsx("div",{children:"Загрузка..."}),children:e.jsx(N,{})}),e.jsx(D,{})]})]})}export{B as default};
